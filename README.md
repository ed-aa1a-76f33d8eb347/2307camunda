1. Две сущности, `заказ` и `постинг`(отправление, посылка). Заказ может содержать несколько постингов(как минимум, один), создаются одновременно (разбитие всего заказа на отдельные постинги, сплитование, происходит снаружи)
2. Статусная модель Заказа: `Создан, Собирается на складе, В доставке, Ждет в ПВЗ`. Финальные статусы: `Получен, Отменен`
3. Статусная модель Постинга: `Ожидает оплаты, Собирается на складе, В доставке, Ждет в ПВЗ`. Финальные статусы: `Получен, Отменен`
4. Движение по статусам: натуральное, слева направо. Переход в статус `Отменен` допускается из любого статуса
   1. Постинг меняет статус по внешним событиям
   2. Заказ переходит на следующий статус, как только любой из постингов его состава достигает следующего шага
   3. Финальный статус заказа определяется следующим образом, когда все его постинги достигли финального статуса:
      1. `Получен`: среди постингов есть хоть в статусе `Получен`
      2. `Отменен`: все его постиги в статусе `Отменен`
5. Статусы `Ожидает оплаты` и `Ждет в ПВЗ` у постинга - имеют время жизни. Если за заданный промежуток времени движения по статусам не было, то постинг отменяется
   

Итого: получается два процесса с небольшим одностороним взаимодействием между ними


Одним из финальным шагом по оредру, в случае, если он в статусе`Получен` могу получить курс валют через https://www.cbr-xml-daily.ru/latest.js и пересчитать сумму в какую-нибудь валюту? Финальным - потому что в процессе какие-то постинги могут отмениться.
